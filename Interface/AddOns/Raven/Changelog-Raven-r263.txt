------------------------------------------------------------------------
r263 | tomber | 2012-09-11 23:42:22 +0000 (Tue, 11 Sep 2012) | 11 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Conditions.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Main.lua
   M /trunk/Nest.lua
   M /trunk/Presets/Priest.lua
   M /trunk/Raven_Options/Options.lua

Add option to fill instead of empty timer bars as they progress. This is particularly nice for runes but it is available on the Layout tab for all bar groups (the option is Fill and is near the top of the tab) should that effect be preferable in your custom UI design.

Changed buffs filter by type option so that stealable and magic are now mutually exclusive. You will need to check both when you want all magic buffs but the change is needed for mages to be able to effectively sort out stealable buffs.

Added support for monk's chi and warlock demonic fury resources in special case buffs and condition tests.

Added workaround for blizzard bug related to MONOCHROME font flag. The bug causes text to be displayed incorrectly when MONOCHROME is only font flag (at least it no longer crashes the client). The workaround causes MONOCHROME to be ignored when it is the only font flag.

In priest presets, removed obsolete Dark Archangel and added cooldown for Angelic Feather.

Changed name of "Snap To Center" option on Layout tab to simply "Center".
------------------------------------------------------------------------
r262 | tomber | 2012-09-06 23:19:54 +0000 (Thu, 06 Sep 2012) | 5 lines
Changed paths:
   M /trunk/Conditions.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Main.lua
   M /trunk/Presets/Monk.lua
   M /trunk/Presets/Priest.lua
   M /trunk/Presets/Warlock.lua
   M /trunk/Raven_Options/Options.lua

Added special case buffs for holy power, shadow orbs, soul shards, burning embers.
Added new condition tests for Shadow Orbs and Burning Embers.
Added Mana Tea cooldown and Retreat buff in monk presets.
Added Shadow Orbs as buff in priest presets.
Added Soul Shards buff in warlock presets.
------------------------------------------------------------------------
r261 | tomber | 2012-09-04 20:56:18 +0000 (Tue, 04 Sep 2012) | 5 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Main.lua
   M /trunk/Nest.lua
   M /trunk/Raven_Options/Options.lua

Added "boss" filter by type option for buffs in auto bar groups.

Changed cooldowns for inventory items, excluding trinkets, to show the name of the spell instead of the item. The tooltip still shows the item and still includes the remaining cooldown info. This change means that engineers will now see, for example, "Cobalt Frag Bomb" instead of the name of their belt when they use a belt which has had Frag Belt applied to it.

Enabling Hide Custom Border on the Defaults tab no longer adds color to icons in bar groups that have icon border coloring enabled.
------------------------------------------------------------------------
r260 | tomber | 2012-09-03 22:21:40 +0000 (Mon, 03 Sep 2012) | 3 lines
Changed paths:
   M /trunk/Conditions.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Main.lua
   M /trunk/Nest.lua
   M /trunk/Profile.lua
   M /trunk/Raven_Options/Options.lua

Add condition test to check if the player has a particular glyph active.

Add option in Defaults tab to hide the custom border that Raven applies to icons when Masque is not enabled. This option is particularly helpful if you are using a Clean Icons addon (or equivalent). Note this has been tested with Clean Icons - Square and border coloring still works with it. Note also that enabling/disabling Masque using its option in the Defaults tab may require a /reload.
------------------------------------------------------------------------
r259 | tomber | 2012-09-02 23:01:25 +0000 (Sun, 02 Sep 2012) | 1 line
Changed paths:
   M /trunk/Raven_Options/Options.lua

Fix error checking for spells in new condition test Player Status>Spellbook.
------------------------------------------------------------------------
r258 | tomber | 2012-09-02 22:41:45 +0000 (Sun, 02 Sep 2012) | 3 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Nest.lua
   M /trunk/Raven_Options/Options.lua

Buff filter by type now makes sure Castable does not overlap with Weapon Buffs.

Added option for bar-oriented configurations to set horizontal alignment of label text to "Center".
------------------------------------------------------------------------
r257 | tomber | 2012-09-02 18:33:21 +0000 (Sun, 02 Sep 2012) | 3 lines
Changed paths:
   M /trunk/Conditions.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Profile.lua
   M /trunk/Raven_Options/Options.lua

Fix paladin holy power condition test to allow up to 5 (changed from 3 in MoP).

Added new Player Status condition tests for checking current specification and whether a spell is known in the player's spellbook.
------------------------------------------------------------------------
r256 | tomber | 2012-09-02 05:33:50 +0000 (Sun, 02 Sep 2012) | 7 lines
Changed paths:
   M /trunk/Conditions.lua
   M /trunk/Main.lua
   M /trunk/Nest.lua
   M /trunk/Presets/Druid.lua
   M /trunk/Presets/Mage.lua
   M /trunk/Raven_Options/Options.lua

Improved method of checking if auras are buffs or debuffs in trackers. This used to depend on the preset files, defaulting to debuff when not found. Now default is to check if the unit is friendly or hostile. Note that this fixes Swiftmend showing up as a debuff in trackers.

Fixed issue with bar background opacity not being set correctly when using the expiring color option. Also, improved responsiveness of switching colors on expiration.

Added Swiftmend buff to druid presets. Changed Frost Bomb to debuff in mage presets.

Increased maximum level in Player Status>Level condition test to 100.
------------------------------------------------------------------------
r255 | tomber | 2012-09-01 05:02:37 +0000 (Sat, 01 Sep 2012) | 1 line
Changed paths:
   M /trunk/Profile.lua

Update spellbook caching code that needed to be updated for 5.0.4 in order to prevent intermittent Lua errors when shapeshifting.
------------------------------------------------------------------------
r254 | tomber | 2012-08-31 17:14:20 +0000 (Fri, 31 Aug 2012) | 9 lines
Changed paths:
   M /trunk/Conditions.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Main.lua
   M /trunk/Presets/Druid.lua
   M /trunk/Presets/Mage.lua
   M /trunk/Presets/Monk.lua
   M /trunk/Presets/Paladin.lua
   M /trunk/Presets/Priest.lua
   M /trunk/Presets/Rogue.lua
   M /trunk/Presets/Shaman.lua
   M /trunk/Raven_Options/Options.lua

Changed Hide Consolidate Buffs option to work correctly when solo versus in a group.

Removed "Is Fishing" test from condition code and all preset conditions that used to include it. The previous implementation no longer works in 5.0.4.

Added stance buffs for warriors and paladins (oddly, seals are now represented as stances in the API). This allows you to test for, among other things, an active seal.

Added optional aura and optional duration settings for spell effects triggered by a spell cast. Among other things, this allows you to show a different duration for Wild Strike when Bloodsurge is active.

Added cooldowns to monk presets for Diffuse Magic and Zen Meditation. Added Censure debuff to paladin presets. Changed Blindside to a buff in rogue presets.
------------------------------------------------------------------------
r253 | tomber | 2012-08-30 00:27:14 +0000 (Thu, 30 Aug 2012) | 5 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Presets/General.lua
   M /trunk/Presets/Mage.lua
   M /trunk/Presets/Rogue.lua
   M /trunk/Presets/Shaman.lua

Fixed toggle all test mode bug that caused a Lua error when a bar group has been deleted within a session.

Removed default spell effects linked to out-of-date talents (e.g., Efflorescence).

Mage Arcane Charge is now a debuff. Rogue Revealing Strike is now a buff. Rogue Blindside debuff added. Shaman Lava Surge buff added.
------------------------------------------------------------------------
r252 | tomber | 2012-08-26 20:55:17 +0000 (Sun, 26 Aug 2012) | 3 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Main.lua
   M /trunk/Presets/Hunter.lua
   M /trunk/Presets/Warlock.lua

Distinguish recharge-related spell cooldowns from normal cooldowns (e.g., monk's roll, priest's Angelic Feather). Show a bar/icon for spells that are recharging and display the count of remaining charges in addition to current recharge time.

Tweak lockout detection spells for hunter and warlock.
------------------------------------------------------------------------
r251 | tomber | 2012-08-25 21:27:47 +0000 (Sat, 25 Aug 2012) | 3 lines
Changed paths:
   M /trunk/Localizations/enUS.lua
   M /trunk/Main.lua
   M /trunk/Presets/Warrior.lua
   M /trunk/Profile.lua
   M /trunk/Raven_Options/Options.lua

Add warrior's Die by the Sword to cooldown list.

Added option to hide or show Blizzard's consolidated buffs separately from other buffs. This makes it possible to use Blizzard's new default consolidated buffs interface to see a summary of raid buffs, including tooltip, while still using Raven to display the player's buffs.
------------------------------------------------------------------------
r250 | tomber | 2012-08-25 05:38:43 +0000 (Sat, 25 Aug 2012) | 3 lines
Changed paths:
   M /trunk/Main.lua
   M /trunk/Presets/DeathKnight.lua
   M /trunk/Presets/Druid.lua
   M /trunk/Presets/Hunter.lua
   M /trunk/Presets/Mage.lua
   M /trunk/Presets/Monk.lua
   M /trunk/Presets/Paladin.lua
   M /trunk/Presets/Warlock.lua
   M /trunk/Profile.lua

Changed spell cooldown detection to search through the first two tabs of the spellbook instead of being dependent on the preset files. This is a significant change, especially with use of flyouts and placeholder spells (e.g., Mage Bomb) in the spellbook. However, it should be worth it, given the difficulty of achieving 100% accuracy in the preset files.

Updated spell school lockout spells for MoP. Also, modified the lockout detection code so should be more efficient.
------------------------------------------------------------------------
r249 | tomber | 2012-08-24 15:29:04 +0000 (Fri, 24 Aug 2012) | 3 lines
Changed paths:
   M /trunk/Presets/DeathKnight.lua
   M /trunk/Presets/Druid.lua
   M /trunk/Presets/Hunter.lua
   M /trunk/Presets/Mage.lua
   M /trunk/Presets/Monk.lua
   M /trunk/Presets/Paladin.lua
   M /trunk/Presets/Priest.lua
   M /trunk/Presets/Racials.lua
   M /trunk/Presets/Rogue.lua
   M /trunk/Presets/Shaman.lua
   M /trunk/Presets/Warlock.lua
   M /trunk/Presets/Warrior.lua
   M /trunk/Profile.lua

Make "Physical" the default spell school and remove from presets. Optimize spell school tables to reduce table sizes.

Fix cooldown detection for mage Frost Bomb.
------------------------------------------------------------------------
r248 | tomber | 2012-08-23 19:27:31 +0000 (Thu, 23 Aug 2012) | 1 line
Changed paths:
   M /trunk/Main.lua

Update cooldown detection for vehicle and override bars to work in MoP.
------------------------------------------------------------------------
r247 | tomber | 2012-08-21 14:41:53 +0000 (Tue, 21 Aug 2012) | 1 line
Changed paths:
   M /trunk/Main.lua

Removed special case code no longer needed in MoP.
------------------------------------------------------------------------
r246 | tomber | 2012-08-19 21:36:24 +0000 (Sun, 19 Aug 2012) | 7 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Conditions.lua
   M /trunk/Main.lua
   M /trunk/Presets/Pets.lua
   M /trunk/Presets/Warlock.lua
   M /trunk/Profile.lua

Detect warlock Dark Soul cooldowns.

Update talent test condition for MoP.

Update dispellable debuff checking for MoP.

Update pet presets for MoP.
------------------------------------------------------------------------
r245 | tomber | 2012-08-18 22:40:24 +0000 (Sat, 18 Aug 2012) | 3 lines
Changed paths:
   M /trunk/Presets/Hunter.lua
   M /trunk/Presets/Shaman.lua
   M /trunk/Presets/Warlock.lua

Updated hunter and shaman presets for MoP class changes. This completes all the class-related presets (still need to update the pet-related presets).

Fixed warlock's Hand of Gul'dan and Conflagration to show a cooldown when unavailable (still need to consider how best to present these and other spells that use the recharge mechanic).
------------------------------------------------------------------------
r244 | tomber | 2012-08-18 01:51:46 +0000 (Sat, 18 Aug 2012) | 9 lines
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Presets/DeathKnight.lua
   M /trunk/Presets/General.lua
   M /trunk/Presets/Priest.lua
   M /trunk/Presets/Racials.lua
   M /trunk/Presets/Warlock.lua
   M /trunk/Presets/Warrior.lua
   M /trunk/Profile.lua
   M /trunk/Raven_Options/Options.lua

Update presets for warrior, death knight, warlock for MoP class changes.

Add warrior shared cooldowns for stances and shouts.

Fix Gift of the Naaru detection.

Fix missing cooldowns for priest: Rapture, Holy Word: Sanctuary, Holy Word: Serenity.

Fix custom sounds when using #spellid format on Spells tab.
------------------------------------------------------------------------
r243 | tomber | 2012-08-17 01:40:44 +0000 (Fri, 17 Aug 2012) | 1 line
Changed paths:
   M /trunk/Bars.lua
   M /trunk/Localizations/enUS.lua
   M /trunk/Profile.lua
   M /trunk/Raven_Options/Options.lua

Added support for entering specific spell ids on the Spells tab for changing labels, colors and sounds associated with spells. Format is same as in spell lists: #123456. Still needs a bit more testing for colors and sounds...
------------------------------------------------------------------------
r242 | tomber | 2012-08-16 05:53:29 +0000 (Thu, 16 Aug 2012) | 1 line
Changed paths:
   M /trunk/Presets/General.lua
   M /trunk/Presets/Monk.lua
   M /trunk/Presets/Paladin.lua

Add presets for monk class.
------------------------------------------------------------------------
r241 | tomber | 2012-08-15 04:36:06 +0000 (Wed, 15 Aug 2012) | 2 lines
Changed paths:
   M /trunk/Presets/Paladin.lua

Update presets for paladin class changes in MoP.

------------------------------------------------------------------------
r240 | tomber | 2012-08-14 04:16:05 +0000 (Tue, 14 Aug 2012) | 3 lines
Changed paths:
   M /trunk/Main.lua
   M /trunk/Presets/Mage.lua
   M /trunk/Profile.lua

Update presets for mage class changes in MoP.

No longer use the "last resort" brute force search for spell ids when in combat. It is possible that icons will not be displayed for some spells in the buff/debuff trackers but this should be rare. The change is needed to prevent the script time too long error introduced with the Lua execution time limit in MoP.
------------------------------------------------------------------------
r239 | tomber | 2012-08-12 21:23:07 +0000 (Sun, 12 Aug 2012) | 1 line
Changed paths:
   M /trunk/Presets/Druid.lua
   M /trunk/Presets/Priest.lua
   M /trunk/Presets/Racials.lua
   M /trunk/Profile.lua

Update presets for priest class changes in MoP. Also, updated racials to use only one spell id instead of a list. Removed support for spell referals in preset files (should no longer be required with cooldown detection changes).
------------------------------------------------------------------------
r238 | tomber | 2012-08-11 21:50:34 +0000 (Sat, 11 Aug 2012) | 7 lines
Changed paths:
   M /trunk/Main.lua
   M /trunk/Presets/Druid.lua
   M /trunk/Presets/General.lua
   M /trunk/Presets/Rogue.lua
   M /trunk/Profile.lua

Changed cooldown detection to prefer testing using the spellbook over spell ids. This works better in MoP given how spell variants are now implemented (case in point: Mangle).

Removed support for multiple spell ids per spell in the preset tables. This should no longer be needed once all presets are updated for MoP.

Fixed a couple minor issues in druid presets.

Completed first pass on rogue presets, including rewrite of poison-related notifications to reflect new lethal and non-lethal poison spells.
------------------------------------------------------------------------
r237 | tomber | 2012-08-11 02:39:46 +0000 (Sat, 11 Aug 2012) | 1 line
Changed paths:
   M /trunk/Main.lua
   M /trunk/Presets/Druid.lua

Update presets for druid class changes in MoP.
------------------------------------------------------------------------
r236 | tomber | 2012-08-05 22:13:04 +0000 (Sun, 05 Aug 2012) | 1 line
Changed paths:
   M /trunk/Main.lua
   M /trunk/Profile.lua

Lowered upper limit on spell id brute force search (the previous limit was too high and caused an error on at least one beta user's system). Also, modified code so that the brute force search is not used during combat log event.
------------------------------------------------------------------------
